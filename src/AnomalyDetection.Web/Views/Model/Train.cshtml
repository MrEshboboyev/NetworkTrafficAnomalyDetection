@model TrainModelViewModel

@{
    ViewData["Title"] = "Train New Model";
}

<div class="container">
    <h1 class="my-4">Train New Model</h1>

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success">
            @TempData["SuccessMessage"]
        </div>
    }

    <form asp-action="Train" method="post">
        <div class="form-group">
            <label for="Name">Model Name</label>
            <input type="text" id="Name" name="Name" class="form-control" value="@Model.Name" required maxlength="100" />
            @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <label for="Description">Description</label>
            <textarea id="Description" name="Description" class="form-control" maxlength="500">@Model.Description</textarea>
            @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <label for="SelectedModelType">Model Type</label>
            <select id="SelectedModelType" name="SelectedModelType" class="form-control" required>
                @foreach (var type in Model.ModelTypes)
                {
                    <option value="@type">@type</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedModelType, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <label for="NumberOfComponents">Number of Components (for PCA)</label>
            <input type="number" id="NumberOfComponents" name="NumberOfComponents" class="form-control" value="@Model.NumberOfComponents" min="1" max="10" />
            @Html.ValidationMessageFor(model => model.NumberOfComponents, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <label for="Contamination">Contamination Ratio (for Isolation Forest)</label>
            <input type="number" id="Contamination" name="Contamination" class="form-control" value="@Model.Contamination" min="0.01" max="0.5" step="0.01" />
            @Html.ValidationMessageFor(model => model.Contamination, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Train Model</button>
        </div>
    </form>
</div>
